///-----------------------------------------------USUARIOS
var usuarios = [{
    //     nombre: "Pedro",
    //     apellido: "Martinez",
    //     ordenes: [{
    //             nombreProducto: "Producto 1",
    //             descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //             cantidad: 2,
    //             precio: 49.99
    //         },
    //         {
    //             nombreProducto: "Producto 2",
    //             descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //             cantidad: 2,
    //             precio: 49.99
    //         }
    //     ]
    // },
    // {
    //     nombre: "Juan",
    //     apellido: "Perez",
    //     ordenes: [{
    //             nombreProducto: "Producto 3",
    //             descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //             cantidad: 2,
    //             precio: 49.99
    //         },
    //         {
    //             nombreProducto: "",
    //             descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //             cantidad: 2,
    //             precio: 49.99
    //         }
    //     ]
    // },
    // {
    //     nombre: "Maria",
    //     apellido: "Rodriguez",
    //     ordenes: [{
    //             nombreProducto: "Producto 4",
    //             descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //             cantidad: 2,
    //             precio: 49.99
    //         },
    //         {
    //             nombreProducto: "Producto 1",
    //             descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //             cantidad: 2,
    //             precio: 49.99
    //         }
    //     ]
}];


///-----------------------------------------------CATEGORIAS
var categorias = [
    // {
    //     nombreCategoria: "Farmacias",
    //     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //     color: "#9482C4",
    //     icono: "fab fa-angellist",
    //     empresas: [{
    //             nombreEmpresa: "Empresa 1",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 2",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 3",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         }
    //     ]
    // },
    // {
    //     nombreCategoria: "Restaurantes",
    //     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //     color: "#24CC8E",
    //     icono: "fab fa-angellist",
    //     empresas: [{
    //             nombreEmpresa: "Empresa 1",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 2",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 3",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         }
    //     ]
    // },
    // {
    //     nombreCategoria: "Salud",
    //     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //     color: "#EAD144",
    //     icono: "fab fa-angellist",
    //     empresas: [{
    //             nombreEmpresa: "Empresa 1",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 2",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 3",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         }
    //     ]
    // },
    // {
    //     nombreCategoria: "Café",
    //     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //     color: "#6DD356",
    //     icono: "fab fa-angellist",
    //     empresas: [{
    //             nombreEmpresa: "Empresa 1",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 2",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 3",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         }
    //     ]
    // },
    // {
    //     nombreCategoria: "Bebidas",
    //     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //     color: "#4661FC",
    //     icono: "fab fa-angellist",
    //     empresas: [{
    //             nombreEmpresa: "Empresa 1",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 2",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         },
    //         {
    //             nombreEmpresa: "Empresa 3",
    //             imagen: "img/banner.jpg",
    //             productos: [{
    //                     nombreProducto: "Producto 1",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 2",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 3",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 },
    //                 {
    //                     nombreProducto: "Producto 4",
    //                     descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
    //                     precio: 49.99
    //                 }
    //             ]
    //         }
    //     ]
    // }
];

// Variables Globales
indexUsuario = null;
indexOrden = null;
indexCategoria = null;
indexEmpresa = null;
indexProducto = null;

// Llennar LocalStorage o arreglo de Usuarios y Categorias
var localStorage = window.localStorage;

if (localStorage.getItem('usuarios') == null) {
    localStorage.setItem('usuarios', JSON.stringify(usuarios));
} else {
    usuarios = JSON.parse(localStorage.getItem('usuarios'))
}


if (localStorage.getItem('categorias') == null) {
    localStorage.setItem('categorias', JSON.stringify(categorias));
} else {
    categorias = JSON.parse(localStorage.getItem('categorias'))
}

console.log('Usuarios', usuarios);
console.log('Categorias', categorias);

function cargarUsuarios() {
    usuarios.forEach((elemento, indexUsuario) => {
            document.getElementById('listaUsuarios').innerHTML +=
                `   <option  value="${indexUsuario}"> ${elemento.nombre} ${elemento.apellido} `

        })
        // cargarAplicaciones(0);
}
cargarUsuarios();



function cargarNombre() {
    indexUsuario = document.getElementById('listaUsuarios').value;
    var usuario = usuarios[indexUsuario];
    console.log(indexUsuario);
    document.getElementById('saludo').innerHTML = `
    <h2> ¡Hola ${usuario.nombre}!</h2>
    <h3>¿Que necesitas?</h3>
`
}
cargarNombre();


function generarCategorias() {

    // Limpia el elemento Html antes de renderizar de nuevo
    document.getElementById('listaCategorias').innerHTML = '';
    categorias.forEach((categoria, index) => {

        // <i class = "far fa-star" > < /i>

        document.getElementById('listaCategorias').innerHTML +=
            `<div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-3 " >
            <div id="${index}" onclick="cargarEmpresas(this.id)" class="card mb-2 mt-4" style="background-color: ${categoria.color}; cursor: pointer" data-toggle="modal"  data-target="#modalEmpresas">    
            

            <div class="card-body">
                    <div class="cuadrado">
                    <i class="${categoria.icono}" aria-hidden="true"></i>
                    </div>
                    <div>
                        <h4 style="  font-weight: 600">${categoria.nombreCategoria}</h4>
                        <h5>${categoria.empresas.length} Empresas</h5>
                    </div>

                </div>
            </div>

        </div>
        
    `
    });


}

generarCategorias();

function cargarOrdenes() {

    indexUsuario = document.getElementById('listaUsuarios').value;
    var usuario = usuarios[indexUsuario];

    document.getElementById('modalBody').innerHTML = null;

    document.getElementById('modalHeader').innerHTML = `
    <h5 class="modal-title" id="modalTarea2Label">${usuario.nombre} estas son tus ordenes</h5>
    `

    indexUsuario = document.getElementById('listaUsuarios').value;
    var ordenes = usuarios[indexUsuario].ordenes;
    ordenes.forEach(orden => {
        document.getElementById('modalBody').innerHTML +=
            `
            <div class="card">
            <div class="card-body modalBody">
                <h5>${orden.nombreProducto}</h5>
                <p>${orden.descripcion}</p>
                <h5 class="precioDerecha" class=" my-2 my-sm-0"> ${orden.precio}</h5>
            </div>
        </div>
        `
    })


}

function cargarEmpresas(index) {
    indexCat = index;
    document.getElementById('modalBodyEmpresas').innerHTML = null;
    // document.getElementById('cardHeader').innerHTML = null;


    document.getElementById('modalHeaderEmpresas').innerHTML =
        `<h5 class="modal-title" id="modalTarea2Label">${categorias[indexCat].nombreCategoria}</h5>`;

    var empresa = categorias[indexCat].empresas;

    empresa.forEach((empresa) => {
        var emp2;
        var producto = empresa.productos;
        // console.log(empresa);
        // console.log(producto);
        var emp = `
            <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 mb-4" id="contenidoEmpresas">
                    <div class="card">
                    <div id="cardHeader">
                        <div class="contenedorImg">
                            <img src="img/banner.jpg" class="card-img-top" alt="...">
                            <div class="textoImagen">${empresa.nombreEmpresa}</div>
                        </div>
                    </div>
            `
        producto.forEach((elemento, index) => {
            emp2 += `
           

                    <div class="card-body modalBody modalBodyProductos " id="cardBoady ">
                        <div class="row">
                            <div class="col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8">
                                <h5>
                                ${elemento.nombreProducto}
                                </h5>
                            </div>
                            <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4">
                                <button id="${index}" class="btn btnPedir my-2 my-sm-0 ml-auto" onclick="pedido(this.id)" data-toggle="modal"  data-target="#modalPedidos" type="button"> Pedir </button>
                            </div>
                        </div>

                        <p style="margin-bottom:0px">${elemento.descripcion} </p>
                        <h5 class="precioDerecha" class=" my-2 my-sm-0"> $${elemento.precio}</h5>
                    </div>
               

 `
                //                 console.log(emp2);
        })
        document.getElementById('modalBodyEmpresas').innerHTML += `${emp}${emp2} 
            </div> 

            </div>`


    })

    // console.log(empresa);
}

function pedido(index) {
    indexProducto = index;
    $('#modalEmpresas').modal('hide');
    producto = categorias[indexCat].empresas[0].productos[index]

    document.getElementById('infoProducto').innerHTML = `
    <h5 id="nombrePro" class="titulo2">
        ${producto.nombreProducto}
    </h5>
    <p id="descripcionpro">${producto.descripcion}</p>
    `
}

function nuevoPedido() {
    indexUsuario = document.getElementById('listaUsuarios').value;
    var usuario = usuarios[indexUsuario];
    producto = categorias[indexCat].empresas[0].productos[indexProducto];

    console.log(producto);

    usuario.ordenes.push({
        cantidad: document.getElementById('cantidad').value,
        descripcion: producto.descripcion,
        nombreProducto: producto.nombreProducto,
        precio: producto.precio
    });
    localStorage.setItem('usuarios', JSON.stringify(usuarios));

    $('#modalPedidos').modal('hide');
}

function guardarCategoria() {
    categorias.push({
        nombreCategoria: document.getElementById('categoriaN').value,
        descripcion: document.getElementById('descripcionN').value,
        icono: document.getElementById('iconoN').value,
        color: document.getElementById('colorN').value,
        empresas: [{
            nombreEmpresa: "Empresa 1",
            imagen: "img/banner.jpg",
            productos: [{
                    nombreProducto: "Producto 1",
                    descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
                    precio: 49.99
                },
                {
                    nombreProducto: "Producto 2",
                    descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
                    precio: 49.99
                },
                {
                    nombreProducto: "Producto 3",
                    descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
                    precio: 49.99
                },
                {
                    nombreProducto: "Producto 4",
                    descripcion: "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolore, modi!",
                    precio: 49.99
                }
            ]
        }]
    });

    localStorage.setItem('categorias', JSON.stringify(categorias));
    generarCategorias();

    $('#modalCategoria').modal('hide');

}